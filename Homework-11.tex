\documentclass[a4paper]{article}
\usepackage{amsmath, amssymb, amsthm, mathrsfs, enumitem}
\usepackage[hmargin = 1in, vmargin = 1.25in]{geometry}
\title{Homework-11}
\author{Haocheng Wang \and 2019011994}

\newtheorem{ex}{Exercise}[subsection]
\newtheorem{lem}{Lemma}[subsection]
\stepcounter{section}
\setcounter{subsection}{6}
\renewcommand{\proofname}{\noindent\bf Proof}
\renewcommand\labelenumi{\roman}
\renewcommand{\Re}{\mathrm{Re}\,}
\renewcommand{\Im}{\mathrm{Im}\,}

\begin{document}
\maketitle
\setcounter{ex}{32}\begin{ex}\end{ex}\begin{proof}
Suppose that $F = F_{c1} + F_{pp1} = F_{c2} + F_{pp2}$. Then $F_{c1} - F_{c2} = F_{pp2} - F_{pp1}$, the left hand 
side is a continuous function and right hand side is a jump function, which implies that $F_{pp1}$ and $F_{pp2}$
share the same discontinuities, and one must have the difference $F_{pp1} - F_{pp2}$ is a constant. However we choose
$F_{pp}$ with form $F_{pp} = \sum_{x \in A}c_xJ_x$, which implies that $\lambda = 0$.
\end{proof}

\stepcounter{ex}\begin{ex}\end{ex}\begin{proof}
We suppose that $F$ is monotone increasing, given any partition $a \leq x_0 < x_1 < \cdots < x_n \leq b$, one has $$
\sum_{i = 1}^n |F(x_i) - F(x_{i - 1})| = \sum_{i = 1}^n (F(x_i) - F(x_{i - 1})) = F(x_n) - F(x_0) \leq F(b) - F(a).
$$If we set $x_0 = a, x_n = b$ we will find that $F(b) - F(a)$ is indeed the supremum of 
$\sum_{i = 1}^n |F(x_i) - F(x_{i - 1})|$. Hence $\|F\|_{TV([a, b])} = |F(b) - F(a)|$. Note that 
$\|F\|_{TV(\mathbb{R})} = |F(+\infty) - F(-\infty)|$, it's clear that $|F|$ is bounded by $\max(|F(+\infty)|, |F(-\infty)|)$,
hence $F$ has bounded variation on $\mathbb{R}$ if and only if it is bounded.
\end{proof}

\begin{ex}\end{ex}\begin{proof}
By triangle inequality, for any partition\begin{align*}
\sum_{i = 1}^n |F(x_i) + G(x_i) - F(x_{i - 1}) - G(x_{i - 1})| &\leq \sum_{i = 1}^n |F(x_i) - F(x_{i - 1})| +
\sum_{i = 1}^n |G(x_i) -  G(x_{i - 1})|\\ &\leq \|F\|_{TV(\mathbb{R})} + \|G\|_{TV(\mathbb{R})}.
\end{align*}
Hence $\|F + G\|_{TV(\mathbb{R})} \leq \|F\|_{TV(\mathbb{R})} + \|G\|_{TV(\mathbb{R})}$. Since \begin{gather*}
\sum_{i = 1}^n |cF(x_i) - cF(x_{i - 1})| = |c|\sum_{i = 1}^n |F(x_i) - F(x_{i - 1})| \leq |c|\|F\|_{TV(\mathbb{R})},\\
\sum_{i = 1}^n |F(x_i') - F(x_{i - 1}')| = \frac{1}{|c|}\sum_{i = 1}^n |cF(x_i') - cF(x_{i - 1}')| \leq \frac{1}{|c|}\|cF\|_{TV(\mathbb{R})},
\end{gather*}
one has $\|cF\|_{TV(\mathbb{R})} = |c|\|F\|_{TV(\mathbb{R})}$. If $F$ is constant, it's clear that $\|F\|_{TV(\mathbb{R})} = 0$.
Conversely suppose for contradiction that $F$ is not constant, then there are at least two point $x, y \in \mathbb{R}$
such that $F(x) \ne F(y)$, which implies that $0 = \|F\|_{TV(\mathbb{R})} > |F(x) - F(y)| > 0$.
\end{proof}

\begin{ex}\end{ex}\begin{proof}
Note that $F1_{[a, c]} = F1_{[a, b]} + F1_{[b, c]}$, by triangle inequality it suffices to show that 
$\|F\|_{TV([a, c])} \geq \|F\|_{TV([a, b])} + \|F\|_{TV([b,c])}$. In fact given any partition 
$a \leq x_0 < \cdots < x_n \leq b$ and $b \leq y_0 < \cdots < y_m \leq c$, we find that 
$a \leq x_0 < \cdots < x_n \leq y_0 < \cdots < y_m \leq c$ is a partition of $[a, c]$, thus $$
\sum_{i = 1}^n |F(x_i) - F(x_{i - 1})| + \sum_{j = 1}^m |F(y_i) - F(y_{i - 1})| \leq \|F\|_{TV([a, c])}.
$$This means that $\|F\|_{TV([a, c])} \geq \|F\|_{TV([a, b])} + \|F\|_{TV([b,c])}$.
\end{proof}

\begin{ex}\end{ex}\begin{proof}\ 
\begin{enumerate}[label = (\roman*)]
\item Suppose for contradiction that $f$ is not bounded, then there exists at least one $\omega \in \mathbb{R}$ such that 
$\limsup_{x \to \omega} |f(x)| = +\infty$, which implies that one can find a sequence $\{x_n\}$ converges to $\omega$
with $|f(x_n)| > n$. Fixed any $y \in \mathbb{R}$, for large enough $n$ one has$$
\|f\|_{TV(\mathbb{R})} \geq |f(y) - f(x_n)| \geq n - |f(y)| \to +\infty,
$$this contradiction shows that $f$ is bounded. Suppose that $\lim_{x \to +\infty} f(x)$does not exist, one must have 
$\limsup_{x \to +\infty} f(x) > \liminf_{x \to +\infty} f(x)$, which implies that there exists two sequences $\{a_n\}, \{b_n\}$
converges to $+\infty$ such that $|f(b_n) - f(a_n)| \geq \lambda > 0$, and this leads to that $\|f\|_{TV(\mathbb{R})} = +\infty$.
Similarly one can show that $\lim_{x \to -\infty} f(x)$ is well-defined.
\item $f(x) = x\sin(1/x)$ for $x \ne 0$ and define $f(0) = 0$.\qedhere
\end{enumerate}
\end{proof}

\stepcounter{ex}\begin{ex}\end{ex}\begin{proof}
Denote $\Gamma: a = x_0 < x_1 < \cdots < x_n = b$ be the partition of $[a, b]$, and $$
S_\Gamma^+ := \sum_{i = 1}^n \max(F(x_i) - F(x_{i - 1}), 0),\ \ S_\Gamma^- := \sum_{i = 1}^n \max(-F(x_i) + F(x_{i - 1}), 0),
\ \ S_\Gamma := \sum_{i = 1}^n |F(x_i) - F(x_{i - 1})|.
$$For each partition $\Gamma$, one has $S_\Gamma^+ + S_\Gamma^- = S_\Gamma, S_\Gamma^+ - S_\Gamma^- = F(b) - F(a)$.
And we define $$
V^+[F; a, b] := \sup_{\Gamma} S_\Gamma^+,\ \ \ V^-[F; a, b] := \sup_\Gamma S_\Gamma^-.
$$By similar argument in Exercise 1.6.37, one has $V^+[F; a, b] = F^+(b) - F^+(a), V^-[F; a, b] = F^-(b) - F^-(a)$.
By definition, for each $n > 0$, one can find partitions $P_n, Q_n$ such that $$
S_{P_n}^+ > V^+[F; a, b] - \frac{1}{n},\ \ \ S_{Q_n}^- > V^-[F; a, b] - \frac{1}{n}.
$$By triangle inequality we find that both $S_\Gamma^+$ and $S_\Gamma^-$ is non-decreasing in the refinement of $\Gamma$,
thus if we take $\Gamma_n = P_n \cup Q_n$, we will find that $$
S_{\Gamma_n}^+ > V^+[F; a, b] - \frac{1}{n},\ \ \ S_{\Gamma_n}^- > V^-[F; a, b] - \frac{1}{n}.
$$And this leads to that $$
V^+[F; a, b] - V^-[F; a, b] = \lim_{n \to \infty} S_{\Gamma_n}^+ - \lim_{n \to \infty} S_{\Gamma_n}^-  = 
F(b) - F(a).
$$Let $b = x, a = -\infty$ we obtain that $F(x) = F(-\infty) + F^+(x) - F^-(x)$. Further, $$
V^+[F; a, b] + V^-[F; a, b] = \lim_{n \to \infty} S_{\Gamma_n}^+ + \lim_{n \to \infty} S_{\Gamma_n}^- = 
\lim_{n \to \infty} S_{\Gamma_n} \leq \sup_{\Gamma} S_\Gamma = \|F\|_{TV[a, b]}.
$$Thus $\|F\|_{TV[a, b]} = F^+(b) - F^+(a) + F^-(b) - F^-(a)$. By definition of $F^+$ and $F^-$ we have 
$F^+(-\infty) = F^-(-\infty) = 0$, hence $\|F\|_{TV} = F^+(+\infty) + F^-(+\infty)$.
\end{proof}

\stepcounter{ex}\begin{ex}\end{ex}\begin{proof}
Given any compact interval $[a, b]$ and with any partition $a \leq x_0 < x_1 < \cdots < x_n \leq b$, one has $$
\sum_{i = 1}^n |F(x_i) - F(x_{i - 1})| \leq \sum_{i = 1}^n C|x_i - x_{i - 1}| \leq C(b - a),
$$which implies that $\|F\|_{TV[a, b]} \leq C(b - a)$, hence $F$ is locally of bounded variation. Note that 
$$|\frac{F(x + h) - F(x)}{h}| \leq C, \forall h \ne 0,$$ hence $F'$ is bounded in magnitude by the Lipschitz constant 
of $F$.
\end{proof}

\begin{ex}\end{ex}\begin{proof}
Given $-\infty < a < x < y < b < +\infty$, since $f$ is convex,$$
f(x) + \frac{f(x) - f(a)}{x - a}(y - x) \leq f(y) \leq f(x) + \frac{f(b) - f(x)}{b - x}(y - x),
$$let $y \to x^+$ one has $$
f(x) \leq \liminf_{y \to x^+} f(y) \leq \limsup_{y \to x^+} f(y) \leq f(x) \Rightarrow \lim_{y \to x^+}f(y) = f(x).
$$Similarly one can show that $\lim_{y \to x^-} f(y) = f(x)$, hence $f$ is continuous. Furthermore we have $$
g(y) := \frac{f(y) - f(x)}{y - x} \geq \frac{f(x) - f(a)}{x - a},
$$and since $f$ is convex we have $g$ is non-decreasing, hence $f'_+(x)$ exists. Similarly $f_-'(x)$ also exists,
and further one has $f_-'(x) \leq f_+'(x) \leq f_-'(y) \leq f_+'(y), \forall x < y$. Consider the points $x$ where
$f_-'(x) < f_+'(x)$, by axiom of choice we know that such $x$ are at most countable, hence $f$ is almost everywhere 
differentiable. Clearly, $f'$ is equal almost everywhere to a monotone non-decreasing function.
\end{proof}

\stepcounter{ex}
\begin{ex}[Second fundamental theorem for Lipschitz function]\end{ex}\begin{proof}
Since $f$ is Lipschitz continuous, we find that the Newton quotients is bounded by $C$: $|f_n(x)| \leq C$, by 
dominated convergence theorem one has$$
\int_{[a, b]} F'(x)\,dx = \lim_{n \to \infty}\int_{[a, b]} \frac{F(x + 1/n) - F(x)}{1/n}\,dx = 
\lim_{n\to\infty} n\left(\int_{[b, b + 1/n]} F(x)\,dx - \int_{[a, a + 1/n]}F(x)\,dx\right).
$$
By extension of $F$, we have $F$ is equal to $F(b)$ for the first integral, for the second integral:\begin{align*}
|n\int_{[a, a + 1/n]} F(x)\,dx - F(a)| &\leq n\int_{[a, a + 1/n]}|F(x) - F(a)|\,dx \leq n\int_{[a, a+1/n]}C(x - a)\,dx
= \frac{C}{2n} \to 0,
\end{align*}as $n\to\infty$. Therefore\[
\int_{[a, b]}F'(x)\,dx = F(b) - F(a).\qedhere
\]
\end{proof}

\begin{ex}[Integration by parts formula]\end{ex}\begin{proof}
Suppose the Lipschitz constant of $F$ and $G$ are $A$ and $B$ respectively. Since $[a, b]$ is compact, there exists
$M > 0$ such that $|F(x)| \leq M, |G(x)| \leq M, \forall x \in [a, b]$. Then \begin{align*}
|F(y)G(y) - F(x)G(x)| &= |(F(y) - F(x))G(y) + F(x)(G(y) - G(x))| \leq M(A + B)|y - x|.
\end{align*}
Hence the product $F(x)G(x)$ is again Lipschitz continuous. By second fundamental theorem one has $$
\int_{[a, b]}(F(x)G(x))'\,dx = F(b)G(b) - F(a)G(a).
$$However one has $(F(x)G(x))' = F'(x)G(x) + F(x)G'(x)$, and note that $|F'(x)G(x)|\leq MA, |F(x)G'(x)| \leq MB$
and thus both are absolutely integrable, we finally obtain that \[
\int_{[a, b]}F'(x)G(x)\,dx = F(b)G(b) - F(a)G(a) - \int_{[a, b]}F(x)G'(x)\,dx.\qedhere
\]
\end{proof}
\end{document}